schema: '2.0'
stages:
  data_preprocessing:
    cmd: python src/data_preprocessing.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 15d0cfd9b065641597c30617fc4563b8
      size: 1637
    - path: data/raw/images.zip
      hash: md5
      md5: 64b8f1d3036f3445557a8619f0400f6e
      size: 416968083
    - path: src/data_preprocessing.py
      hash: md5
      md5: eac5d6cfb2f6cc4bf1f87ad0618c3034
      size: 19061
    outs:
    - path: data/processed/data_stats.json
      hash: md5
      md5: 54078e8789231d3c60f46ac5e2fe63f3
      size: 236
    - path: data/processed/test
      hash: md5
      md5: 54a0bab7b69d89d2540933deb96216fc.dir
      size: 40663970
      nfiles: 86
    - path: data/processed/train
      hash: md5
      md5: 198eedce570fc4e54f3508f27be56741.dir
      size: 291614162
      nfiles: 596
    - path: data/processed/val
      hash: md5
      md5: 99af702a5010d751db772296ccbb71e5.dir
      size: 84033130
      nfiles: 171
  model_training:
    cmd: python src/model_training.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 15d0cfd9b065641597c30617fc4563b8
      size: 1637
    - path: data/processed/train
      hash: md5
      md5: 198eedce570fc4e54f3508f27be56741.dir
      size: 291614162
      nfiles: 596
    - path: data/processed/val
      hash: md5
      md5: 99af702a5010d751db772296ccbb71e5.dir
      size: 84033130
      nfiles: 171
    - path: src/model_training.py
      hash: md5
      md5: bf58518fb31b6aa7bed5358bed848dd4
      size: 13017
    outs:
    - path: models/best_mask_detector.h5
      hash: md5
      md5: 7e65280120419a067521ab727d24bd05
      size: 147913200
    - path: models/mask_detector.h5
      hash: md5
      md5: 6acf53761e2fac7b6660b815ea242671
      size: 147913200
    - path: models/metrics.json
      hash: md5
      md5: d253023d5ecdae9ea667b617c1adf15d
      size: 231
    - path: models/training_history.json
      hash: md5
      md5: 28ae692169830ce5a10dbcf5be38c06c
      size: 3047
  model_evaluation:
    cmd: python src/predict.py --evaluate
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 15d0cfd9b065641597c30617fc4563b8
      size: 1637
    - path: data/processed/test
      hash: md5
      md5: 54a0bab7b69d89d2540933deb96216fc.dir
      size: 40663970
      nfiles: 86
    - path: models/mask_detector.h5
      hash: md5
      md5: 6acf53761e2fac7b6660b815ea242671
      size: 147913200
    - path: src/predict.py
      hash: md5
      md5: d22dde2a775facddcec92ef443f1260d
      size: 11461
    outs:
    - path: models/evaluation_metrics.json
      hash: md5
      md5: 799f8fdc083c117dcb6e4b6390ad8931
      size: 1182
    - path: models/evaluation_plots.json
      hash: md5
      md5: 9f1b70de1ac953ee06a68f41677e4520
      size: 452
